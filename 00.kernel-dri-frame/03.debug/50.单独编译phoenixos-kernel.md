

在phoenixos 的源码根目录直接：

```shell
/bin/bash -c "make -j4 -C ~/sd_480/edu_tec_x4/out/target/product/x86_64/obj/kernel O=/home/colby/sd_480/edu_tec_x4/out/target/product/x86_64/obj/kernel ARCH=x86_64 CROSS_COMPILE=\" /home/colby/sd_480/edu_tec_x4/prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.15-4.8/bin/x86_64-linux-\"  bzImage modules"
```







kernel/drivers$ vim ./ptp/ptp_dte.c





这里记录一个事，例如将单独文件修改后，只编译修改部分，如何编译，在phoenix中：

```shell
# 修改 如下文件
drivers/net/wireless/intel/iwlwifi/cfg/22000.c
```



此时编译时，我们只需要编译如下：

```shell
/bin/bash -c "make  -j4 -C /home/colby/phoenixos_edu/out/target/product/x86_64/obj/kernel  O=/home/colby/phoenixos_edu/out/target/product/x86_64/obj/kernel ARCH=x86_64 CROSS_COMPILE=\" /home/colby/phoenixos_edu/prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.15-4.8/bin/x86_64-linux-\"  drivers/net/wireless/intel/iwlwifi/"
```

**这里只需要指定  drivers/net/wireless/intel/iwlwifi/cfg/22000.c 最近的那个 Makefile所在的目录即可**

例如这里是  drivers/net/wireless/intel/iwlwifi/

此时编译时，就会将 drivers/net/wireless/intel/iwlwifi/ 该目录下所有的都会重新进行编译





答案就在这个里面：

![](50.单独编译phoenixos-kernel.assets/2019-11-14 19-41-36 的屏幕截图.png)

![](50.单独编译phoenixos-kernel.assets/2019-11-14 19-45-43 的屏幕截图.png)





```shell
# 在这里编译时，可以打印出编译的理由
colby@colby-pc:~/phoenixos_edu$

/bin/bash -c "make  -j4 -C /home/colby/phoenixos_edu/out/target/product/x86_64/obj/kernel  O=/home/colby/phoenixos_edu/out/target/product/x86_64/obj/kernel ARCH=x86_64 CROSS_COMPILE=\" /home/colby/phoenixos_edu/prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.15-4.8/bin/x86_64-linux-\" V=2  drivers/net/wireless/intel/iwlwifi/"
```

