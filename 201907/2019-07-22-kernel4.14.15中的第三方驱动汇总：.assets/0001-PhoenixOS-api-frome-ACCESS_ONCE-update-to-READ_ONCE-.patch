From 03462591a74a2bda270b9050929cf9872c1bbd03 Mon Sep 17 00:00:00 2001
From: caobinxin <caobinxin@phoenixos.com>
Date: Wed, 24 Jul 2019 18:38:05 +0800
Subject: [PATCH] [PhoenixOS] api: frome ACCESS_ONCE update to READ_ONCE at
 r92su dri

Signed-off-by: caobinxin <caobinxin@phoenixos.com>
---
 drivers/staging/r92su/main.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/r92su/main.c b/drivers/staging/r92su/main.c
index 620c52f29498..cdc221e61653 100644
--- a/drivers/staging/r92su/main.c
+++ b/drivers/staging/r92su/main.c
@@ -714,7 +714,7 @@ static void r92su_bss_add_work(struct work_struct *work)
 			cfg80211_put_bss(r92su->wdev.wiphy, bss);
 		}
 next:
-		node = ACCESS_ONCE(node->next);
+		node = READ_ONCE(node->next);
 
 		/* these bss_priv have been generated by "c2h_survey_event"
 		 * they are not part of the cfg80211 framework and this is
@@ -1564,7 +1564,7 @@ static int r92su_stop(struct net_device *ndev)
 	while (node) {
 		struct r92su_add_bss *bss_priv =
 			llist_entry(node, struct r92su_add_bss, head);
-		node = ACCESS_ONCE(node->next);
+		node = READ_ONCE(node->next);
 		kfree(bss_priv);
 	}
 
-- 
2.17.1

